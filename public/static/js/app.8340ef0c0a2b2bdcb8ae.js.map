{"version":3,"sources":["webpack:///./src/App.vue?e368","webpack:///./src/App.vue","webpack:///./src/pages/user/index.vue?1ad4","webpack:///./src/pages/user/index.vue","webpack:///src/pages/user/index.vue","webpack:///src/pages/user/sign-in.vue","webpack:///./src/pages/user/sign-in.vue?0ef8","webpack:///./src/pages/user/sign-in.vue","webpack:///src/pages/user/sign-up.vue","webpack:///./src/pages/user/sign-up.vue?970b","webpack:///./src/pages/user/sign-up.vue","webpack:///src/pages/home/chat-part.vue","webpack:///./src/pages/home/chat-part.vue?f1ef","webpack:///./src/pages/home/chat-part.vue","webpack:///./src/pages/home/nav-part.vue?2697","webpack:///./src/pages/home/nav-part.vue","webpack:///src/pages/home/room-list-part.vue","webpack:///./src/pages/home/room-list-part.vue?b842","webpack:///./src/pages/home/room-list-part.vue","webpack:///./src/components/promptPart.vue?55e0","webpack:///./src/components/promptPart.vue","webpack:///src/pages/home/room-tool-part.vue","webpack:///./src/pages/home/room-tool-part.vue?cef3","webpack:///./src/pages/home/room-tool-part.vue","webpack:///src/pages/home/user-tool-part.vue","webpack:///./src/pages/home/user-tool-part.vue?be56","webpack:///./src/pages/home/user-tool-part.vue","webpack:///src/pages/home/user-list-part.vue","webpack:///./src/pages/home/user-list-part.vue?6b5a","webpack:///./src/pages/home/user-list-part.vue","webpack:///./src/EventBus/EventBus.js","webpack:///./src/pages/chat-media/RTC.js","webpack:///src/pages/chat-media/media-route.vue","webpack:///./src/pages/chat-media/media-route.vue?2624","webpack:///./src/plugins/touch/slide.js","webpack:///src/pages/home/index.vue","webpack:///./src/pages/chat-media/media-route.vue","webpack:///./src/pages/home/index.vue?e8ef","webpack:///./src/pages/home/index.vue","webpack:///./src/pages/chat-media/chat-video.vue?3db9","webpack:///./src/pages/chat-media/chat-video.vue","webpack:///src/pages/chat-media/chat-video.vue","webpack:///./src/pages/chat-media/chat-audio.vue?c7b2","webpack:///./src/pages/chat-media/chat-audio.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/plugins/eventBus/index.js"],"names":["App","render","_h","this","$createElement","_self","_c","staticRenderFns","src_App","__webpack_require__","normalizeComponent","selectortype_template_index_0_src_pages_user","_vm","staticClass","_l","item","class","sign-btn-active","isActive","domProps","textContent","_s","tit","on","click","$event","checkPage","_v","ref","attrs","onselectstart","userConfirm","src_pages_user","user_normalizeComponent","routeName","curItem","normalAllItem","name","curRouteName","ssrContext","isWarning","isRule","value","params","_this","code","rs","res","rj","nickname","userInfo","data","formNoValidate","user_sign_in","id","for","label","directives","rawName","expression","sign-in-warning","type","placeholder","tip","input","target","composing","$set","pages_user_sign_in","sign_in_normalizeComponent","sign_in","user","signUpFailed","user_sign_up","pages_user_sign_up","sign_up_normalizeComponent","sign_up","chat_part","socketRoomLeave","roomName","room","$http","get","path","then","getRoomIdSucceed","errHandle","roomId","socketRoomJoin","socketTxtSend","userId","mes","txtToServer","Date","getDate","date","getHours","getMinutes","txt","img","content","scrollHandle","contentBoard","scrollTop","clientHeight","scrollHeight","clientHei","disconnect","_this2","roomCurrentChange","socketMesGet","socketDisconnect","isUsingBrowserFalse","isUsingBrowserTrue","home_chat_part","key","chat-moment-me","chat-mess-me","title","moment","_e","modifiers","trim","keypress","_k","keyCode","preventDefault","sendMess","blur","$forceUpdate","pages_home_chat_part","chat_part_normalizeComponent","home_nav_part","pages_home_nav_part","nav_part_normalizeComponent","userRooms","showUserRoomList","reverse","getUserRoomList","home_room_list_part","roomCheck","active","pages_home_room_list_part","room_list_part_normalizeComponent","room_list_part","components_promptPart","_m","src_components_promptPart","promptPart_normalizeComponent","inputPart","action","curItemDerective","roomCreate","roomSearch","rooms","roomPassword","roomCreateSucceed","roomCreateFailed","roomSearchSucceed","roomSearchFailed","_this3","roomMembers","body","_$eventBus","$emit","alert","home_room_tool_part","mouseleave","toolSelect","isShowCalc","toolFormConfirm","roomJoinComfirm","result-active","joinRoomClickHandle","pages_home_room_tool_part","room_tool_part_normalizeComponent","room_tool_part","user_tool_part","home_user_tool_part","disabled","descript","pages_home_user_tool_part","user_tool_part_normalizeComponent","succeedHandle","_iteratorNormalCompletion","_step","isInRoom","getRoomUserList","userIn","userOut","home_user_list_part","userSelect","user-list-item-inline","role","meItem","mediaStart","pages_home_user_list_part","user_list_part_normalizeComponent","user_list_part","EventBus","bus","EventEmitter_default","a","setRemoteRtc","localRtcDone","PeerConnection","window","RTCPeerConnection","mozRTCPeerConnection","webkitRTCPeerConnection","iceServer","iceServers","urls","username","credential","mediaModel","RTC","localVideo","remoteVideo","iceGatheringState","remoteVideoPlayer","localVideoPlayer","pc","localCd","remoteCd","localSdp","remoteSdp","ontrack","showRemoteVideo","onicecandidate","saveLocalCD","tool","caller","setLocal","options","arguments","length","undefined","audio","video","promise_default","rej","getMedia","linkLocalVideo","createOffer","localCompete","catch","setRemote","setRemoteSdp","addRemoteCd","answerer","createAnswer","evt","srcObject","streams","push","candidate","navigator","mediaDevices","getUserMedia","mediaStream","addStream","forEach","index","addIceCandidate","RTCIceCandidate","setRemoteDescription","sdp","setLocalDescription","localDescription","error","console","cd","emit","media_route","$ROOMID","isCaller","rtcTool","chatMediaHandleCaller","getRemoteRtc","sendLocalRtc","chat_media_media_route","slideListrener","handler","startX","startY","touchstartHandle","ev","touches","pageX","pageY","touchendHandle","endX","endY","changedTouches","direction","dy","dx","result","Math","abs","angle","atan2","PI","GetSlideAngle","GetSlideDirection","startListener","elm","addEventListener","clearListener","removeEventListener","chatPart","navPart","roomListPart","roomToolPart","userToolPart","userListPart","mediaRoute","media_route_normalizeComponent","direc","hideCurSide","hideLeftSide","showRightSide","hideRightSide","showLeftSide","bodyResize","connect","slideHandle","document","$off","pages_home","hideLeftRight","src_pages_home","home_normalizeComponent","home","chat_media_chat_video","autoplay","pages_chat_media_chat_video","chat_video_normalizeComponent","chat_media_chat_audio","pages_chat_media_chat_audio","chat_audio_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","redirect","component","children","config","productionTip","vue_resource_esm","install","Vue","prototype","el","components","template"],"mappings":"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","file":"static/js/app.8340ef0c0a2b2bdcb8ae.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-62420c26\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62420c26\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login-wrap\"},[_c('div',{staticClass:\"login-form check-part\"},_vm._l((_vm.routeList),function(item){return _c('span',{staticClass:\"sign-btn\",class:{'sign-btn-active':item.isActive},domProps:{\"textContent\":_vm._s(item.tit)},on:{\"click\":function($event){_vm.checkPage(item)}}})})),_vm._v(\" \"),_c('router-view',{ref:\"signForm\"}),_vm._v(\" \"),_c('div',{staticClass:\"login-form\"},[_c('div',{staticClass:\"login-form-child\",attrs:{\"onselectstart\":\"return false\"}},[_c('span',{staticClass:\"login-btn\",on:{\"click\":_vm.userConfirm}},[_vm._v(\"确定\")])])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-3cc4c6ec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3cc4c6ec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3cc4c6ec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user/index.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"login\">\r\n        <div class=\"login-wrap\">\r\n            <div class=\"login-form check-part\">\r\n                <span class=\"sign-btn\"\r\n                      v-for=\"item in routeList\" v-text=\"item.tit\"\r\n                      :class=\"{'sign-btn-active':item.isActive}\"\r\n                      @click=\"checkPage(item)\">\r\n                </span>\r\n            </div>\r\n            <router-view ref=\"signForm\"></router-view>\r\n            <div class=\"login-form\">\r\n                <div class=\"login-form-child\" onselectstart=\"return false\">\r\n                    <span class=\"login-btn\" @click = \"userConfirm\">确定</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                curItem:null,\r\n                routeList:[\r\n                    {tit:\"登录\",routeName:\"signIn\",isActive:false},\r\n                    {tit:\"注册\",routeName:\"signUp\",isActive:false}\r\n                ]\r\n            }\r\n        },\r\n        methods:{\r\n            checkPage(item){\r\n                this.curItem\r\n                    ? ( this.curItem.isActive = false )\r\n                    : this.normalAllItem();\r\n                this.curItem = item;\r\n                item.isActive = true;\r\n                this.$router.push({name:item.routeName});\r\n            },\r\n            normalAllItem(){\r\n                this.routeList.forEach(item=>{item.isActive = false});\r\n            },\r\n            userConfirm(){\r\n                this.$refs.signForm.$emit(\"userConfirm\");\r\n            }\r\n        },\r\n        mounted(){\r\n            let curRouteName = this.$route.name;\r\n            this.routeList.forEach(item=>{\r\n                item.isActive = (item.routeName === curRouteName);\r\n            });\r\n//            window.SYRESOURCE.chatSocketDisconnect();\r\n//            window.SYRESOURCE.chatSocketRoomLeave();\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .login{\r\n        position: absolute;\r\n        z-index: 1;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: rgba(0,0,0,0.8);\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        flex-wrap: wrap;\r\n    }\r\n    .login-wrap{\r\n        padding: 20px;\r\n        background: #fff;\r\n    }\r\n    .sign-btn{\r\n        display: inline-block;\r\n        height: 30px;\r\n        line-height: 30px;\r\n        padding: 0 10px;\r\n        margin: 0 20px;\r\n        background: #eee;\r\n        color: #000;\r\n        cursor: pointer;\r\n        border: 1px solid #aaa;\r\n        border-radius: 5px;\r\n        transition: all 0.5s;\r\n    }\r\n    .sign-btn-active{\r\n        background: #000;\r\n        color: #fff;\r\n    }\r\n    .login-form{\r\n    }\r\n    .check-part{\r\n        padding: 0;\r\n        text-align: center;\r\n    }\r\n    .login-form-child{\r\n        width: 100%;\r\n        margin: 20px 0;\r\n        text-align: center;\r\n    }\r\n    .login-form-label{\r\n\r\n    }\r\n    .login-form-input{\r\n\r\n    }\r\n    .login-tip{\r\n        font-size: 12px;\r\n        color: #666;\r\n        height: 20px;\r\n        line-height: 20px;\r\n        vertical-align: middle;\r\n    }\r\n    .warn{\r\n        color:#f00;\r\n    }\r\n    .login-btn{\r\n        font-size: 16px;\r\n        display: inline-block;\r\n        width: 35px;\r\n        height: 35px;\r\n        line-height: 30px;\r\n        vertical-align: middle;\r\n        padding: 10px;\r\n        border-radius: 50%;\r\n        background: #eee;\r\n        color: #000;\r\n        cursor: pointer;\r\n        transition: all 0.5s;\r\n        border: 1px solid #aaa;\r\n    }\r\n    .login-btn:hover{\r\n        color: #fff;\r\n        background: #000;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/user/index.vue","<template>\r\n    <form class=\"login-form\" id=\"sign-in-form\">\r\n        <div class=\"login-form-child\" v-for=\"item in formModel\">\r\n            <label for=\"item.id\" class=\"login-form-label\"\r\n                   v-text=\"item.label\"></label>\r\n            <input type=\"text\" id=\"item.id\" class=\"login-form-input\"\r\n                   :placeholder=\"item.tip\" :class=\"{'sign-in-warning':item.isWarning}\"\r\n                   v-model=\"item.value\">\r\n        </div>\r\n    </form>\r\n</template>\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                formModel: [\r\n                    {\r\n                        label: \"账号：\", tip: \"\",\r\n                        rule: \"\", isWarning: false,\r\n                        value: \"\", id: \"signInNumber\"\r\n                    },\r\n                    {\r\n                        label: \"密码：\", tip: \"\",\r\n                        rule: \"\", isWarning: false,\r\n                        value: \"\", id: \"signInPassword\"\r\n                    },\r\n                ],\r\n                userInfo:null,\r\n            }\r\n        },\r\n        methods: {\r\n            formNoValidate() {\r\n                let isRule = true;\r\n                let mapping = {signInNumber: \"userId\", signInPassword: \"password\"};\r\n                let params = {\r\n                    userId: \"\",\r\n                    password: \"\",\r\n                };\r\n                this.formModel.forEach(item => {\r\n                    item.value.length === 0\r\n                        && ( item.isWarning = true)\r\n                        && (isRule = false );\r\n                    params[mapping[item.id]] = item.value;\r\n                });\r\n                isRule && this.signIn(params);\r\n            },\r\n            signIn(params) {\r\n                let path = window.SYRESOURCE.user;\r\n//                params.password = btoa(params.password);\r\n                this.userInfo = params;\r\n                this.$http.get(path, {params: params}).then(res => {\r\n                    this.signInHandle(res).then(this.signInSucceed,this.signInFailed)\r\n/*                    let userInfo = {...res.body.data,id:params.signInNumber};\r\n                    let userInfoStr = JSON.stringify(userInfo);\r\n                    sessionStorage.setItem(\"userInfo\",userInfoStr);\r\n                    let chatSocket = io.connect();*/\r\n                }, err => {\r\n                })\r\n            },\r\n            signInHandle(res){\r\n                return new Promise((rs,rj)=>{\r\n                    let code;\r\n                    200 === (code = res.body.code)\r\n                        ?rs(res)\r\n                        :rj(res)\r\n                })\r\n            },\r\n            signInSucceed(res){\r\n                this.userInfo.nickname = res.body.data.nickname;\r\n                sessionStorage.setItem(\"userInfo\",JSON.stringify(this.userInfo));\r\n                this.$router.push({name:\"home\"})\r\n            },\r\n            signInFailed(res){\r\n                alert(res.body.data)\r\n            }\r\n        },\r\n        mounted() {\r\n            this.$on(\"userConfirm\", this.formNoValidate)\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .sign-in-warning::placeholder {\r\n        color: #f00;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/user/sign-in.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"login-form\",attrs:{\"id\":\"sign-in-form\"}},_vm._l((_vm.formModel),function(item){return _c('div',{staticClass:\"login-form-child\"},[_c('label',{staticClass:\"login-form-label\",attrs:{\"for\":\"item.id\"},domProps:{\"textContent\":_vm._s(item.label)}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.value),expression:\"item.value\"}],staticClass:\"login-form-input\",class:{'sign-in-warning':item.isWarning},attrs:{\"type\":\"text\",\"id\":\"item.id\",\"placeholder\":item.tip},domProps:{\"value\":(item.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"value\", $event.target.value)}}})])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-7c9328b9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user/sign-in.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c9328b9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./sign-in.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./sign-in.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./sign-in.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c9328b9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./sign-in.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user/sign-in.vue\n// module id = null\n// module chunks = ","<template>\r\n    <form class=\"login-form\" id=\"sign-in-form\">\r\n        <div class=\"login-form-child\" v-for=\"item in formModel\">\r\n            <label for=\"item.id\" class=\"login-form-label\"\r\n                   v-text=\"item.label\"></label>\r\n            <input type=\"text\" id=\"item.id\" class=\"login-form-input\"\r\n                   :placeholder=\"item.tip\" :class=\"{'sign-in-warning':item.isWarning}\"\r\n                   v-model=\"item.value\">\r\n        </div>\r\n    </form>\r\n</template>\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                formModel: [\r\n                    {\r\n                        label: \"账号：\", tip: \"8-16位英文与字母组合\",\r\n                        rule: /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}/, isWarning: false,\r\n                        value: \"\", id: \"signUpNumber\"\r\n                    },\r\n                    {\r\n                        label: \"密码：\", tip: \"8-16位英文与字母组合\",\r\n                        rule: /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}/, isWarning: false,\r\n                        value: \"\", id: \"signUpPassword\"\r\n                    },\r\n                    {\r\n                        label: \"昵称：\", tip: \"1-10个字符\",\r\n//                        rule: /^[\\u4E00-\\u9FA5]{2,4}$/, isWarning: false,\r\n                        rule: /.{1,10}/, isWarning: false,\r\n                        value: \"\", id: \"signUpNickName\"\r\n                    }\r\n                ],\r\n                params:null,\r\n            }\r\n        },\r\n        methods: {\r\n            formNoValidate() {\r\n                let isRule = true;\r\n                let mapping = {signUpNumber: \"userId\", signUpPassword: \"password\", signUpNickName:\"nickname\"};\r\n                let params = {\r\n                    userId: \"\",\r\n                    password: \"\",\r\n                    nickname: \"\",\r\n                };\r\n                this.formModel.forEach(item => {\r\n                    ( item.value.length === 0 || !item.rule.test(item.value) )\r\n                        && ( (item.value = \"\") || ( item.isWarning = true) )\r\n                        && (isRule = false );\r\n                    params[mapping[item.id]] = item.value;\r\n                });\r\n                isRule && this.signUp(params);\r\n            },\r\n            signUp(params) {\r\n                let path = window.SYRESOURCE.user;\r\n                this.params = params;\r\n                this.$http.post(path, {params: params}).then(res => {\r\n                    this.signUpHandle(res).then(this.signUpSucceed,this.signUpFailed)\r\n                }, err => {\r\n                })\r\n            },\r\n            signUpHandle(res){\r\n                return new Promise((rs,rj)=>{\r\n                    let code;\r\n                    200 === (code = res.body.code)\r\n                        ?rs(res)\r\n                        :rj(res)\r\n                })\r\n            },\r\n            signUpSucceed(){\r\n                sessionStorage.setItem(\"userInfo\",JSON.stringify(this.params));\r\n                this.params = null;\r\n                this.$router.push({name:\"home\"})\r\n            },\r\n            signUpFailed(res){\r\n                alert(res.body.data)\r\n            }\r\n        },\r\n        mounted() {\r\n            this.$on(\"userConfirm\", this.formNoValidate)\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .sign-in-warning::placeholder {\r\n        color: #f00;\r\n    }\r\n\r\n    .sign-in-warning::-webkit-input-placeholder {\r\n        color: red;\r\n    }\r\n\r\n    .sign-in-warning::-moz-placeholder { /* Mozilla Firefox 19+ */\r\n        color: red;\r\n    }\r\n\r\n    .sign-in-warning:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\r\n        color: red;\r\n    }\r\n\r\n    .sign-in-warning:-ms-input-placeholder { /* Internet Explorer 10-11 */\r\n        color: red;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/user/sign-up.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"login-form\",attrs:{\"id\":\"sign-in-form\"}},_vm._l((_vm.formModel),function(item){return _c('div',{staticClass:\"login-form-child\"},[_c('label',{staticClass:\"login-form-label\",attrs:{\"for\":\"item.id\"},domProps:{\"textContent\":_vm._s(item.label)}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.value),expression:\"item.value\"}],staticClass:\"login-form-input\",class:{'sign-in-warning':item.isWarning},attrs:{\"type\":\"text\",\"id\":\"item.id\",\"placeholder\":item.tip},domProps:{\"value\":(item.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"value\", $event.target.value)}}})])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-76339ef8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user/sign-up.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76339ef8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./sign-up.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./sign-up.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./sign-up.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76339ef8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./sign-up.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user/sign-up.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"chat-room\">\r\n        <h1 class=\"tit\" id=\"room-tit\" v-text=\"roomName\"></h1>\r\n        <div class=\"content\" ref=\"contentBoard\">\r\n            <p class=\"chat-line\"\r\n               v-for=\"item in mesModel\">\r\n                <transition-group v-if=\"item.type==='chatTxt'\">\r\n                    <span class=\"chat-moment chat-member\" key=\"member\"\r\n                          :class=\"{'chat-moment-me':item.userId==userId}\"\r\n                          v-text=\"item.nickname\"></span>\r\n<!--                    <span class=\"chat-media-moment\" key=\"moment\"\r\n                          :class=\"{'chat-media-moment-me':item.userId==userId}\"\r\n                          v-text=\"item.moment\"></span>-->\r\n                    <span class=\"chat-mess\" key=\"mess\"\r\n                          :class=\"{'chat-mess-me':item.userId==userId}\"\r\n                          v-text=\"item.txt\" :title=\"item.moment\"></span>\r\n                </transition-group>\r\n                <transition v-if=\"item.type==='roomJoin'\">\r\n                    <span class=\"chat-in\" v-text=\"`${item.nickname} 进入了房间`\"\r\n                          :title=\"item.moment\"></span>\r\n                </transition>\r\n                <transition v-if=\"item.type==='roomLeave'\">\r\n                    <span class=\"chat-out\" v-text=\"`${item.nickname} 离开了房间`\"\r\n                          :title=\"item.moment\"></span>\r\n                </transition>\r\n            </p>\r\n        </div>\r\n        <form class=\"tool\">\r\n            <div class=\"write-board\">\r\n                <input type=\"text\" name=\"write\" class=\"write-box\"\r\n                       v-model.trim=\"txtToServer\" @keypress.enter.prevent=\"sendMess\">\r\n            </div>\r\n            <span class=\"send pointer\" @click = \"sendMess\" >发送</span>\r\n        </form>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                roomName: \"\",\r\n                roomId:\"\",\r\n                roomCurrentDetail:null,\r\n                userId: \"\",\r\n                userInfo:null,\r\n                txtToServer: \"\",\r\n                mesModel: [],\r\n                isUsingBrowser:true,\r\n            }\r\n        },\r\n        methods: {\r\n            roomCurrentChange(roomName) {\r\n                this.roomName && this.socketRoomLeave();\r\n                this.roomName = roomName;\r\n                this.getRoomId(roomName);\r\n                this.mesModel = [];\r\n            },\r\n            getRoomId(roomName){\r\n                let params = {roomName:roomName};\r\n                let path = window.SYRESOURCE.room;\r\n                this.$http\r\n                    .get(path,{params:params})\r\n                    .then(res=>{\r\n                        res.body.code===200\r\n                            ?this.getRoomIdSucceed(res)\r\n                            :this.errHandle(res);\r\n                    },err=>{})\r\n            },\r\n            getRoomIdSucceed(res){\r\n                this.roomCurrentDetail = res.body.data;\r\n                this.roomId = res.body.data.roomId;\r\n                window.$ROOMID = res.body.data.roomId;\r\n                this.socketRoomJoin();\r\n            },\r\n            sendMess(){\r\n                !this.roomName && alert(\"请先选择左侧列表中的房间，才能发送信息！\");\r\n                this.txtToServer && this.socketTxtSend();\r\n            },\r\n            socketRoomJoin(){\r\n                let mes = {\r\n                    type:\"roomJoin\",\r\n                    roomId:this.roomId,\r\n                    data:{\r\n                        userId:this.userId,\r\n                        nickname:this.userInfo.nickname\r\n                    }\r\n                };\r\n                window.SYRESOURCE.chatSocket.emit(\"clientMes\",mes);\r\n            },\r\n            socketRoomLeave(){\r\n                let mes = {\r\n                    type:\"roomLeave\",\r\n                    roomId:this.roomId,\r\n                };\r\n                window.SYRESOURCE.chatSocket.emit(\"clientMes\",mes)\r\n            },\r\n            socketTxtSend(){\r\n                let mes = {\r\n                    type:\"chatTxt\",\r\n                    roomId:this.roomId,\r\n                    data:{\r\n                        txt:this.txtToServer,\r\n                    }\r\n                };\r\n                window.SYRESOURCE.chatSocket.emit(\"clientMes\",mes);\r\n            },\r\n            socketMesGet(mes){\r\n                this.socketMesGetHandle(mes);\r\n            },\r\n            socketMesGetHandle(mes){\r\n                this.socketMesShow(mes);\r\n                switch(mes.type){\r\n                    case \"chatTxt\": return this.txtToServer=\"\";\r\n                    case \"roomJoin\": return this._$eventBus.$emit(\"userIn\",mes.userInfo.userId,this.roomId);\r\n                    case \"roomLeave\": return this._$eventBus.$emit(\"userOut\",mes.userInfo.userId);\r\n                    default: return;\r\n                }\r\n            },\r\n            socketMesShow(mes){\r\n                    let date = new Date();\r\n                    let mesData = mes.data || {};\r\n                    let content = {\r\n                        type: mes.type,\r\n                        userId: mes.userInfo.userId,\r\n                        nickname: mes.userInfo.nickname,\r\n                        moment: `${date.getFullYear()}/${date.getMonth()+1}/${date.getDate()}`\r\n                        + ` ${date.getHours()}:${date.getMinutes()}`,\r\n                        txt: mesData.txt,\r\n                        img: mesData.img,\r\n                    };\r\n                    this.mesModel.push(content);\r\n                    this.scrollHandle();\r\n            },\r\n            scrollHandle(){\r\n                    let contentBoard = this.$refs.contentBoard;\r\n                    let scrTop = contentBoard.scrollTop;\r\n                    let clientHei = contentBoard.clientHeight;\r\n                    let scrHei = contentBoard.scrollHeight;\r\n                    let scrTillBottom = scrHei - scrTop -clientHei;\r\n                    if(parseInt(scrTillBottom) < 5 && !document.hidden && this.isUsingBrowser){\r\n                        this.$nextTick(()=>{\r\n                            contentBoard.scrollTop = contentBoard.scrollHeight-clientHei\r\n                        });\r\n                    }\r\n            },\r\n            errHandle(res){\r\n               console.error(res.body.data)\r\n            },\r\n            socketDisconnect(){\r\n                this.socketRoomLeave();\r\n                window.SYRESOURCE.chatSocket.disconnect();\r\n                window.SYRESOURCE.chatSocket = null;\r\n            },\r\n            isUsingBrowserFalse(){\r\n                this.isUsingBrowser = false;\r\n            },\r\n            isUsingBrowserTrue(){\r\n                this.isUsingBrowser = true;\r\n            },\r\n        },\r\n        mounted() {\r\n            let userInfo = JSON.parse(sessionStorage.getItem(\"userInfo\"));\r\n            this.userInfo = userInfo;\r\n            this.userId = userInfo.userId;\r\n            this._$eventBus.$on(\"roomChecked\", this.roomCurrentChange);\r\n            this._$eventBus.$on(\"chatSocketConnected\",()=>{\r\n                window.SYRESOURCE.chatSocket.on(\"serverMes\",this.socketMesGet);\r\n            });\r\n            window.addEventListener(\"unload\",this.socketDisconnect);\r\n            document.addEventListener(\"mouseleave\",this.isUsingBrowserFalse);\r\n            document.addEventListener(\"mouseenter\",this.isUsingBrowserTrue);\r\n        },\r\n        destroyed(){\r\n            this.socketDisconnect();\r\n            window.removeEventListener(\"unload\",this.socketDisconnect);\r\n            document.removeEventListener(\"mouseleave\",this.isUsingBrowserFalse);\r\n            document.removeEventListener(\"mouseenter\",this.isUsingBrowserTrue);\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .chat-room {\r\n        box-sizing: border-box;\r\n        padding: 5px;\r\n        width: 100%;\r\n        height: 100%;\r\n        margin: auto;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n    .tit,.content,.tool{\r\n        background: rgba(250,250,250,1);\r\n    }\r\n    .tit {\r\n        box-sizing: border-box;\r\n        text-align: center;\r\n        vertical-align: middle;\r\n        border: 1px solid #000;\r\n        border-radius: 5px;\r\n        font-size: 30px;\r\n        font-weight: bold;\r\n        height: 60px;\r\n        line-height: 60px;\r\n    }\r\n\r\n    .content {\r\n        box-sizing: border-box;\r\n        margin-top: 10px;\r\n        border-radius: 2px;\r\n        border: 1px solid #000;\r\n        height: 100%;\r\n        padding: 20px;\r\n        overflow: auto;\r\n    }\r\n\r\n    .tool {\r\n        text-align: center;\r\n        margin-top: 10px;\r\n        padding: 5px;\r\n        display: flex;\r\n        border: 1px solid #000;\r\n        border-radius: 5px;\r\n        align-items: center;\r\n    }\r\n\r\n    .write-board {\r\n        box-sizing: border-box;\r\n        width: 100%;\r\n        padding: 10px;\r\n    }\r\n\r\n    .write-box {\r\n        /*text-indent: 20px;*/\r\n        border: none;\r\n        width: 100%;\r\n        /*padding: 10px;*/\r\n        white-space: normal;\r\n        word-wrap: break-word;\r\n        word-break: break-all;\r\n        background: transparent;\r\n    }\r\n\r\n    .send {\r\n        display: inline-block;\r\n        padding: 0 5px;\r\n        white-space: nowrap;\r\n        flex-shrink: 0;\r\n        color: #000;\r\n    }\r\n\r\n    .send:hover {\r\n        color: #0af;\r\n    }\r\n\r\n    .chat-line {\r\n        margin-top: 20px;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .chat-man {\r\n        float: left;\r\n        display: inline-flex;\r\n        width: 35px;\r\n        height: 35px;\r\n        margin: 7px 10px 5px 0;\r\n        border-radius: 50%;\r\n        font-weight: bold;\r\n        justify-content: center;\r\n        align-items: center;\r\n        font-size: 12px;\r\n        border: 3px solid #aaa;\r\n        background: #000;\r\n        color: #fff;\r\n    }\r\n\r\n    .chat-moment {\r\n        font-size: 10px;\r\n        display: block;\r\n        color: #777;\r\n    }\r\n\r\n    .chat-member {\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n        color: #777;\r\n    }\r\n\r\n    .chat-mess {\r\n        box-sizing: border-box;\r\n        display: inline-block;\r\n        max-width: 80%;\r\n        overflow: hidden;\r\n        border: 1px solid #ccc;\r\n        padding: 6px;\r\n        border-radius: 3px;\r\n        background: rgba(100, 100, 100, 0.8);\r\n        color: #fff;\r\n        white-space: normal;\r\n        word-wrap: break-word;\r\n        word-break: break-all;\r\n    }\r\n\r\n    .chat-moment-me {\r\n        text-align: right;\r\n    }\r\n\r\n    .chat-man-me {\r\n        background: #eee;\r\n        color: #000;\r\n        border-color: #aaa;\r\n        float: right;\r\n        margin: 7px 0 5px 10px;\r\n    }\r\n\r\n    .chat-mess-me {\r\n        float: right;\r\n    }\r\n\r\n    .chat-in {\r\n        display: block;\r\n        text-align: center;\r\n        font-size: 10px;\r\n        color: rgb(0, 100, 255);\r\n    }\r\n\r\n    .chat-out {\r\n        display: block;\r\n        text-align: center;\r\n        font-size: 10px;\r\n        color: rgb(255, 100, 0);\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/home/chat-part.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chat-room\"},[_c('h1',{staticClass:\"tit\",attrs:{\"id\":\"room-tit\"},domProps:{\"textContent\":_vm._s(_vm.roomName)}}),_vm._v(\" \"),_c('div',{ref:\"contentBoard\",staticClass:\"content\"},_vm._l((_vm.mesModel),function(item){return _c('p',{staticClass:\"chat-line\"},[(item.type==='chatTxt')?_c('transition-group',[_c('span',{key:\"member\",staticClass:\"chat-moment chat-member\",class:{'chat-moment-me':item.userId==_vm.userId},domProps:{\"textContent\":_vm._s(item.nickname)}}),_vm._v(\" \"),_c('span',{key:\"mess\",staticClass:\"chat-mess\",class:{'chat-mess-me':item.userId==_vm.userId},attrs:{\"title\":item.moment},domProps:{\"textContent\":_vm._s(item.txt)}})]):_vm._e(),_vm._v(\" \"),(item.type==='roomJoin')?_c('transition',[_c('span',{staticClass:\"chat-in\",attrs:{\"title\":item.moment},domProps:{\"textContent\":_vm._s(((item.nickname) + \" 进入了房间\"))}})]):_vm._e(),_vm._v(\" \"),(item.type==='roomLeave')?_c('transition',[_c('span',{staticClass:\"chat-out\",attrs:{\"title\":item.moment},domProps:{\"textContent\":_vm._s(((item.nickname) + \" 离开了房间\"))}})]):_vm._e()],1)})),_vm._v(\" \"),_c('form',{staticClass:\"tool\"},[_c('div',{staticClass:\"write-board\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.txtToServer),expression:\"txtToServer\",modifiers:{\"trim\":true}}],staticClass:\"write-box\",attrs:{\"type\":\"text\",\"name\":\"write\"},domProps:{\"value\":(_vm.txtToServer)},on:{\"keypress\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }$event.preventDefault();_vm.sendMess($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.txtToServer=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('span',{staticClass:\"send pointer\",on:{\"click\":_vm.sendMess}},[_vm._v(\"发送\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-73594c50\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/chat-part.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-73594c50\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./chat-part.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./chat-part.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./chat-part.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-73594c50\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./chat-part.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/chat-part.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-72514ea6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/nav-part.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./nav-part.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./nav-part.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72514ea6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./nav-part.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/nav-part.vue\n// module id = null\n// module chunks = ","<template>\r\n    <ul class=\"room-list\">\r\n        <li class=\"room-list-item\" v-for=\"item in roomList\" @click=\"roomCheck(item)\">\r\n            <span class=\"room-list-item-content\" v-text=\"item.roomName\"\r\n                  :title=\"item.roomName\" :class=\"{active:item.isActive}\"></span>\r\n        </li>\r\n    </ul>\r\n</template>\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                curListItem:null,\r\n                roomList:[]\r\n            }\r\n        },\r\n        methods:{\r\n            getUserRoomList(){\r\n                let params = JSON.parse(sessionStorage.getItem(\"userInfo\"));\r\n//                if( !params ) {return this.$router.push({name:\"user\"});};\r\n                let path = window.SYRESOURCE.userRooms;\r\n                this.$http\r\n                    .get(path,{params:params})\r\n                    .then(res=>{\r\n                        res.body.code===200\r\n                            ?this.showUserRoomList(res)\r\n                            :this.errHandle();\r\n                    },err=>{})\r\n            },\r\n            showUserRoomList(res){\r\n                let data = res.body.data || [];\r\n                this.roomList = data.map(item=>{\r\n                    return {roomName:item,isActive:false};\r\n                }).reverse();\r\n            },\r\n            errHandle(){},\r\n            roomCheck(item){\r\n                if( this.curListItem === item ) return;\r\n                this.curListItem && ( this.curListItem.isActive=false );\r\n                this.curListItem = item;\r\n                item.isActive = true;\r\n                this._$eventBus.$emit(\"roomChecked\",item.roomName);},\r\n        },\r\n        mounted(){\r\n            this.getUserRoomList();\r\n            this._$eventBus.$on(\"roomCreated\",this.getUserRoomList);\r\n            this._$eventBus.$on(\"roomJoined\",this.getUserRoomList);\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .room-list{\r\n        padding: 10px 20px;\r\n        color: #777;\r\n    }\r\n    .room-list-item{\r\n        padding-top: 10px;\r\n        cursor: pointer;\r\n    }\r\n    .room-list .active,.room-list-item:hover .room-list-item-content{\r\n        color: #000;\r\n        font-weight: bold;\r\n        text-shadow: 1px 0 1px rgba(0, 0, 0, 1);\r\n        border-color: transparent;\r\n    }\r\n    .room-list-item-content{\r\n        border-bottom: 1px solid #eee;\r\n        max-width: 100%;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/home/room-list-part.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"room-list\"},_vm._l((_vm.roomList),function(item){return _c('li',{staticClass:\"room-list-item\",on:{\"click\":function($event){_vm.roomCheck(item)}}},[_c('span',{staticClass:\"room-list-item-content\",class:{active:item.isActive},attrs:{\"title\":item.roomName},domProps:{\"textContent\":_vm._s(item.roomName)}})])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-37f83d9c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/room-list-part.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37f83d9c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./room-list-part.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./room-list-part.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./room-list-part.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37f83d9c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./room-list-part.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/room-list-part.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"prompt-part\"},[_c('input',{staticClass:\"prompt-part-input\",attrs:{\"type\":\"text\"}}),_c('button',{staticClass:\"prompt-part-btn\"},[_vm._v(\"确定\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-143faa1d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/promptPart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-143faa1d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./promptPart.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./promptPart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./promptPart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-143faa1d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./promptPart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/promptPart.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"tool-part\" @mouseleave=\"curItemDerective\">\r\n        <ul class=\"tool-part-list\">\r\n            <li class=\"tool-part-list-item\" v-for=\"item in toolList\"\r\n                :class=\"{active:item.isActive}\">\r\n                <span v-text=\"item.tit\" @click=\"toolSelect(item,$event)\"></span>\r\n            </li>\r\n        </ul>\r\n        <div class=\"tool-part-form-box\">\r\n            <form class=\"tool-part-form\" :key=\"'search'\">\r\n                <div>\r\n                    <transition name=\"shrink\">\r\n                        <input type=\"text\" class=\"tool-part-input\" placeholder=\"房间名\"\r\n                               v-show=\"curToolListItem\" v-model.trim=\"roomName\">\r\n                    </transition>\r\n                </div>\r\n                <div>\r\n                    <transition name=\"shrink\">\r\n                        <input type=\"text\" class=\"tool-part-input\"\r\n                               placeholder=\"房间口令\" v-show=\"isShowCalc('create')\"\r\n                               v-model.trim=\"roomPassword\">\r\n                    </transition>\r\n                </div>\r\n                <div class=\"tool-part-form-confirm\">\r\n                    <a class=\"tool-part-confirm-btn\" v-show=\"curToolListItem\"\r\n                       @click=\"toolFormConfirm\">确定</a>\r\n                </div>\r\n            </form>\r\n            <ul class=\"tool-part-result\">\r\n                <li class=\"tool-part-result-form\" v-if=\"isShowResultForm\">\r\n                    <input class=\"tool-part-result-input\" v-model.trim=\"roomPassword\"\r\n                           type=\"text\" placeholder=\"请输入房间口令\">\r\n                    <span class=\"tool-part-result-btn\" @click=\"roomJoinComfirm\">确定</span>\r\n                </li>\r\n                <li class=\"tool-part-result-item\" v-for=\"item in searchResultList\"\r\n                    :class=\"{'result-active':item.isActive}\"\r\n                    v-text=\"item.roomName\" @click=\"joinRoomClickHandle(item)\"></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import inputPart from \"@components/promptPart.vue\";\r\n    export default {\r\n        components:{\r\n            inputPart\r\n        },\r\n        data() {\r\n            return {\r\n                roomName: \"\",\r\n                roomPassword: \"\",\r\n                toolList: [\r\n                    {tit: \"加入\", isActive: false, action: \"search\"},\r\n                    {tit: \"创建\", isActive: false, action: \"create\"},\r\n                ],\r\n                curToolListItem: null,\r\n                searchResultList: [],\r\n                curResultItem:null,\r\n                isShowResultForm:false,\r\n                userInfo:null,\r\n            }\r\n        },\r\n        methods: {\r\n            toolSelect(item) {\r\n                this.curItemDerective();\r\n                this.curToolListItem = item;\r\n                item.isActive = true;\r\n                this.searchResultList = [];\r\n            },\r\n            curItemDerective() {\r\n                this.curToolListItem && (this.curToolListItem.isActive = false);\r\n                this.curToolListItem = null;\r\n                this.roomName = null;\r\n                this.roomPassword = null;\r\n                this.searchResultList = [];\r\n                this.isShowResultForm = false;\r\n                this.curResultItem && ( this.curResultItem.isActive=false );\r\n                this.curResultItem = null;\r\n            },\r\n            isShowCalc(type) {\r\n                return this.curToolListItem && this.curToolListItem.action === type;\r\n            },\r\n            toolFormConfirm() {\r\n                switch (this.curToolListItem.action) {\r\n                    case \"create\":\r\n                        return this.roomCreate();\r\n                    case \"search\":\r\n                        return this.roomSearch();\r\n                    default:\r\n                        return false;\r\n                }\r\n            },\r\n            roomCreate() {\r\n                if(!this.roomPassword || !this.roomName){ return false; };\r\n//                if(!this.userInfo) { this.$router.push({name:\"user\"}) };\r\n                let path=window.SYRESOURCE.rooms;\r\n                let params = {\r\n                    roomPassword:this.roomPassword,\r\n                    roomName:this.roomName,\r\n                    userId:this.userInfo.userId\r\n                };\r\n                this.$http.post(path,{params:params}).then(res=>{\r\n                    this.roomCreateHandle(res).then(\r\n                        this.roomCreateSucceed,\r\n                        this.roomCreateFailed\r\n                    )\r\n                },err=>{})\r\n            },\r\n            roomCreateHandle(res){\r\n                return new Promise((rs,rj)=>{\r\n                    let code;\r\n                    200 === (code = res.body.code)\r\n                        ?rs()\r\n                        :rj(code)\r\n                })\r\n            },\r\n            roomCreateSucceed(){\r\n                this._$eventBus.$emit(\"roomCreated\");\r\n//                alert(\"新建成功！\")\r\n            },\r\n            roomCreateFailed(code){\r\n                alert(\"新建失败！\")\r\n            },\r\n            roomSearch() {\r\n                if(!this.roomName){ return false; };\r\n                let path=window.SYRESOURCE.rooms;\r\n                let params = {roomName:this.roomName};\r\n                this.$http.get(path,{params:params}).then(res=>{\r\n                    this.roomSearchHandle(res).then(\r\n                        this.roomSearchSucceed,\r\n                        this.roomSearchFailed\r\n                    )\r\n                },err=>{})\r\n            },\r\n            roomSearchHandle(res){\r\n                return new Promise((rs,rj)=>{\r\n                    let code;\r\n                    200 === (code = res.body.code)\r\n                        ?rs(res)\r\n                        :rj(code)\r\n                })\r\n            },\r\n            roomSearchSucceed(res){\r\n                this.searchResultList = res.body.data;\r\n            },\r\n            roomSearchFailed(code){\r\n                alert(\"搜索失败！\")\r\n            },\r\n            joinRoomClickHandle(item){\r\n                if(this.curResultItem === item) return;\r\n                this.curResultItem && ( this.curResultItem.isActive = false );\r\n                this.curResultItem = item;\r\n                item.isActive = true;\r\n                this.isShowResultForm = true;\r\n            },\r\n            roomJoinComfirm(){\r\n                if(!this.roomPassword){ return false; };\r\n//                if(!this.userInfo) { this.$router.push({name:\"user\"}) };\r\n                let path=window.SYRESOURCE.roomMembers;\r\n                let params = {\r\n                    roomPassword:this.roomPassword,\r\n                    roomName:this.curResultItem.roomName,\r\n                    userId:this.userInfo.userId\r\n                };\r\n                this.$http.post(path,{params:params}).then(res=>{\r\n                    this.roomCreateHandle(res).then(\r\n                        res.body.code === 200\r\n                            ? this._$eventBus.$emit(\"roomJoined\")\r\n                            : alert(`加入房间失败！`)\r\n                    )\r\n                },err=>{})\r\n            }\r\n        },\r\n        mounted(){\r\n            this.userInfo = JSON.parse(sessionStorage.getItem(\"userInfo\"));\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .tool-part {\r\n        padding-top: 3px;\r\n        margin: 10px 20px;\r\n        color: #000;\r\n        border-top: 3px solid rgba(0,0,0,0.7);\r\n        border-radius: 3px 3px 0 0;\r\n        background: rgba(238,238,238,0.5);\r\n        position: relative;\r\n    }\r\n\r\n    .tool-part .active {\r\n        font-weight: bold;\r\n        text-shadow: 1px 0 1px rgba(0, 0, 0, 1);\r\n    }\r\n\r\n    .tool-part-list {\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n\r\n    .tool-part-list-item {\r\n        box-sizing: border-box;\r\n        text-align: center;\r\n        width: 50%;\r\n    }\r\n    .tool-part-list-item>span{\r\n        cursor: pointer;\r\n    }\r\n    .tool-part-form {\r\n        margin: 0 20px;\r\n        overflow: hidden;\r\n        margin-bottom: 8px;\r\n    }\r\n\r\n    .tool-part-input {\r\n        width: 100%;\r\n        border: none;\r\n        border-bottom: 1px solid #000;\r\n        background: transparent;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .shrink-enter-active, .shrink-leave-active {\r\n        transition: width .5s;\r\n    }\r\n\r\n    .shrink-enter, .shrink-leave-to {\r\n        width: 0;\r\n    }\r\n    .tool-part-form-box{\r\n        position: absolute;\r\n        width: 100%;\r\n        background: rgba(238,238,238,0.5);\r\n    }\r\n    .tool-part-form-confirm{\r\n        text-align: center;\r\n    }\r\n    .tool-part-confirm-btn {\r\n        cursor: pointer;\r\n        text-align: center;\r\n    }\r\n    .tool-part-confirm-btn:hover {\r\n        font-weight: bold;\r\n        text-shadow: 1px 1px 1px rgba(0, 0, 0, 1);\r\n    }\r\n    .tool-part-result:before{\r\n        content:\"\";\r\n        display: inline-block;\r\n        border: 6px solid rgba(0,0,0,0.7);\r\n        border-top-color: transparent;\r\n        border-left-color: transparent;\r\n        border-right-color: transparent;\r\n        margin-top: -12px;\r\n        vertical-align: top;\r\n    }\r\n    .tool-part-result{\r\n        color: #fff;\r\n        padding: 0 16px;\r\n        text-align: center;\r\n        background: rgba(0,0,0,0.7);;\r\n        /*border: 1px solid rgba(0,0,0,0.7);*/\r\n        font-size: 0;\r\n        vertical-align: top;\r\n        border-radius: 0 0 5px 5px;\r\n        min-height: 4px;\r\n    }\r\n    .tool-part-result-item{\r\n        font-size: 16px;\r\n        cursor: pointer;\r\n        /*text-decoration: underline;*/\r\n        padding-bottom: 10px;\r\n        position: relative;\r\n    }\r\n    .tool-part-result-item:hover,.result-active{\r\n        font-weight: bold;\r\n        text-shadow: 1px 1px 1px rgba(255, 255, 255, 1);\r\n    }\r\n    .tool-part-result-form>*{\r\n        background: transparent;\r\n        border:none;\r\n        margin: 15px 0;\r\n    }\r\n    .tool-part-result-input{\r\n        border-bottom: 1px solid #fff;\r\n        color: #fff;\r\n    }\r\n    .tool-part-result-input::placeholder{\r\n        color: #aaa;\r\n    }\r\n    .tool-part-result-btn{\r\n        display: inline-block;\r\n        padding: 0 10px;\r\n        border: 1px solid #fff;\r\n        font-size: 16px;\r\n        cursor: pointer;\r\n        border-radius: 4px 4px 4px 0;\r\n    }\r\n    .tool-part-result-btn:hover{\r\n        background: #fff;\r\n        color: #000;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/home/room-tool-part.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tool-part\",on:{\"mouseleave\":_vm.curItemDerective}},[_c('ul',{staticClass:\"tool-part-list\"},_vm._l((_vm.toolList),function(item){return _c('li',{staticClass:\"tool-part-list-item\",class:{active:item.isActive}},[_c('span',{domProps:{\"textContent\":_vm._s(item.tit)},on:{\"click\":function($event){_vm.toolSelect(item,$event)}}})])})),_vm._v(\" \"),_c('div',{staticClass:\"tool-part-form-box\"},[_c('form',{key:'search',staticClass:\"tool-part-form\"},[_c('div',[_c('transition',{attrs:{\"name\":\"shrink\"}},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.curToolListItem),expression:\"curToolListItem\"},{name:\"model\",rawName:\"v-model.trim\",value:(_vm.roomName),expression:\"roomName\",modifiers:{\"trim\":true}}],staticClass:\"tool-part-input\",attrs:{\"type\":\"text\",\"placeholder\":\"房间名\"},domProps:{\"value\":(_vm.roomName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.roomName=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}})])],1),_vm._v(\" \"),_c('div',[_c('transition',{attrs:{\"name\":\"shrink\"}},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowCalc('create')),expression:\"isShowCalc('create')\"},{name:\"model\",rawName:\"v-model.trim\",value:(_vm.roomPassword),expression:\"roomPassword\",modifiers:{\"trim\":true}}],staticClass:\"tool-part-input\",attrs:{\"type\":\"text\",\"placeholder\":\"房间口令\"},domProps:{\"value\":(_vm.roomPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.roomPassword=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}})])],1),_vm._v(\" \"),_c('div',{staticClass:\"tool-part-form-confirm\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.curToolListItem),expression:\"curToolListItem\"}],staticClass:\"tool-part-confirm-btn\",on:{\"click\":_vm.toolFormConfirm}},[_vm._v(\"确定\")])])]),_vm._v(\" \"),_c('ul',{staticClass:\"tool-part-result\"},[(_vm.isShowResultForm)?_c('li',{staticClass:\"tool-part-result-form\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.roomPassword),expression:\"roomPassword\",modifiers:{\"trim\":true}}],staticClass:\"tool-part-result-input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入房间口令\"},domProps:{\"value\":(_vm.roomPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.roomPassword=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_vm._v(\" \"),_c('span',{staticClass:\"tool-part-result-btn\",on:{\"click\":_vm.roomJoinComfirm}},[_vm._v(\"确定\")])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.searchResultList),function(item){return _c('li',{staticClass:\"tool-part-result-item\",class:{'result-active':item.isActive},domProps:{\"textContent\":_vm._s(item.roomName)},on:{\"click\":function($event){_vm.joinRoomClickHandle(item)}}})})],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-cce5a548\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/room-tool-part.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cce5a548\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./room-tool-part.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./room-tool-part.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./room-tool-part.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cce5a548\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./room-tool-part.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/room-tool-part.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"tool-part user-tool-part\" @mouseleave=\"curItemDerective\">\r\n        <ul class=\"tool-part-list\">\r\n            <li class=\"tool-part-list-item\" v-for=\"item in toolList\"\r\n                :class=\"{active:item.isActive}\">\r\n                <span v-text=\"item.tit\" @click=\"toolSelect(item,$event)\"></span>\r\n            </li>\r\n        </ul>\r\n        <div class=\"tool-part-form-box\">\r\n            <form class=\"tool-part-form\" :key=\"'search'\">\r\n                <div>\r\n                    <transition name=\"shrink\">\r\n                        <input type=\"text\" class=\"tool-part-input\"\r\n                               :placeholder=\"`账号：${userInfo.userId||''}`\"\r\n                               v-show=\"curToolListItem\"\r\n                               v-model.trim=\"roomName\"\r\n                               disabled='disabled'\r\n                               key=\"userId\">\r\n                    </transition>\r\n                </div>\r\n                <div>\r\n                    <transition name=\"shrink\">\r\n                        <input type=\"text\" class=\"tool-part-input\"\r\n                               :placeholder=\"`用户名：${userInfo.nickname||''}`\"\r\n                               v-show=\"curToolListItem\" v-model.trim=\"roomName\"\r\n                               disabled='disabled'\r\n                               key=\"nickname\">\r\n                    </transition>\r\n                </div>\r\n                <div>\r\n                    <transition name=\"shrink\">\r\n                        <input type=\"text\" class=\"tool-part-input\"\r\n                               :placeholder=\"`座右铭：${userInfo.descript||''}`\"\r\n                               v-show=\"curToolListItem\"\r\n                               v-model.trim=\"roomName\"\r\n                               disabled='disabled'\r\n                               key=\"descript\">\r\n                    </transition>\r\n                </div>\r\n                <!--                <div class=\"tool-part-form-confir\">\r\n                                    <a class=\"tool-part-confirm-btn\" v-show=\"curToolListItem\"\r\n                                       @click=\"toolFormConfirm\">确定</a>\r\n                                </div>-->\r\n            </form>\r\n            <ul class=\"tool-part-result\">\r\n                <li class=\"tool-part-result-form\" v-if=\"isShowResultForm\">\r\n                    <input class=\"tool-part-result-input\" v-model.trim=\"roomPassword\"\r\n                           type=\"text\" placeholder=\"请输入房间口令\">\r\n                    <span class=\"tool-part-result-btn\" @click=\"roomJoinComfirm\">确定</span>\r\n                </li>\r\n                <li class=\"tool-part-result-item\" v-for=\"item in searchResultList\"\r\n                    :class=\"{'result-active':item.isActive}\"\r\n                    v-text=\"item.roomName\" @click=\"joinRoomClickHandle(item)\"></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import inputPart from \"@components/promptPart.vue\";\r\n\r\n    export default {\r\n        components: {\r\n            inputPart\r\n        },\r\n        data() {\r\n            return {\r\n                roomName: \"\",\r\n                roomPassword: \"\",\r\n                toolList: [\r\n                    {tit: \"个人信息\", isActive: false, action: \"userInfo\"},\r\n                    {tit: \"登录/注册\", isActive: false, action: \"login\"},\r\n                ],\r\n                curToolListItem: null,\r\n                searchResultList: [],\r\n                curResultItem: null,\r\n                isShowResultForm: false,\r\n                userInfo: null,\r\n            }\r\n        },\r\n        methods: {\r\n            toolSelect(item) {\r\n                if(item.action === \"login\") { return this.$router.push({name:\"signIn\"}) };\r\n                this.curItemDerective();\r\n                this.curToolListItem = item;\r\n                item.isActive = true;\r\n            },\r\n            curItemDerective() {\r\n                this.curToolListItem && (this.curToolListItem.isActive = false);\r\n                this.curToolListItem = null;\r\n                /*                this.roomName = null;\r\n                                this.roomPassword = null;\r\n                                this.searchResultList = [];\r\n                                this.isShowResultForm = false;\r\n                                this.curResultItem && ( this.curResultItem.isActive = false );\r\n                                this.curResultItem = null;*/\r\n            },\r\n            isShowCalc(type) {\r\n                return this.curToolListItem && this.curToolListItem.action === type;\r\n            },\r\n            /*            toolFormConfirm() {\r\n                            switch (this.curToolListItem.action) {\r\n                                case \"create\":\r\n                                    return this.roomCreate();\r\n                                case \"search\":\r\n                                    return this.roomSearch();\r\n                                default:\r\n                                    return false;\r\n                            }\r\n                        },\r\n                        roomCreate() {\r\n                            if (!this.roomPassword || !this.roomName) {\r\n                                return false;\r\n                            }\r\n                            ;\r\n            //                if(!this.userInfo) { this.$router.push({name:\"user\"}) };\r\n                            let path = window.SYRESOURCE.rooms;\r\n                            let params = {\r\n                                roomPassword: this.roomPassword,\r\n                                roomName: this.roomName,\r\n                                userId: this.userInfo.userId\r\n                            };\r\n                            this.$http.post(path, {params: params}).then(res => {\r\n                                this.roomCreateHandle(res).then(\r\n                                    this.roomCreateSucceed,\r\n                                    this.roomCreateFailed\r\n                                )\r\n                            }, err => {\r\n                            })\r\n                        },\r\n                        roomCreateHandle(res) {\r\n                            return new Promise((rs, rj) => {\r\n                                let code;\r\n                                200 === (code = res.body.code)\r\n                                    ? rs()\r\n                                    : rj(code)\r\n                            })\r\n                        },\r\n                        roomCreateSucceed() {\r\n                            this._$eventBus.$emit(\"roomCreated\");\r\n            //                alert(\"新建成功！\")\r\n                        },\r\n                        roomCreateFailed(code) {\r\n                            alert(\"新建失败！\")\r\n                        },\r\n                        roomSearch() {\r\n                            if (!this.roomName) {\r\n                                return false;\r\n                            }\r\n                            ;\r\n                            let path = window.SYRESOURCE.rooms;\r\n                            let params = {roomName: this.roomName};\r\n                            this.$http.get(path, {params: params}).then(res => {\r\n                                this.roomSearchHandle(res).then(\r\n                                    this.roomSearchSucceed,\r\n                                    this.roomSearchFailed\r\n                                )\r\n                            }, err => {\r\n                            })\r\n                        },\r\n                        roomSearchHandle(res) {\r\n                            return new Promise((rs, rj) => {\r\n                                let code;\r\n                                200 === (code = res.body.code)\r\n                                    ? rs(res)\r\n                                    : rj(code)\r\n                            })\r\n                        },\r\n                        roomSearchSucceed(res) {\r\n                            this.searchResultList = res.body.data;\r\n                        },\r\n                        roomSearchFailed(code) {\r\n                            alert(\"搜索失败！\")\r\n                        },\r\n                        joinRoomClickHandle(item) {\r\n                            if (this.curResultItem === item) return;\r\n                            this.curResultItem && ( this.curResultItem.isActive = false );\r\n                            this.curResultItem = item;\r\n                            item.isActive = true;\r\n                            this.isShowResultForm = true;\r\n                        },\r\n                        roomJoinComfirm() {\r\n                            if (!this.roomPassword) {\r\n                                return false;\r\n                            }\r\n                            ;\r\n            //                if(!this.userInfo) { this.$router.push({name:\"user\"}) };\r\n                            let path = window.SYRESOURCE.roomMembers;\r\n                            let params = {\r\n                                roomPassword: this.roomPassword,\r\n                                roomName: this.curResultItem.roomName,\r\n                                userId: this.userInfo.userId\r\n                            };\r\n                            this.$http.post(path, {params: params}).then(res => {\r\n                                this.roomCreateHandle(res).then(\r\n                                    res.body.code === 200\r\n                                        ? this._$eventBus.$emit(\"roomJoined\")\r\n                                        : alert(`加入房间失败！`)\r\n                                )\r\n                            }, err => {\r\n                            })\r\n                        }*/\r\n        },\r\n        created(){\r\n            this.userInfo = JSON.parse(sessionStorage.getItem(\"userInfo\")) || {};\r\n        },\r\n        mounted() {\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    div.user-tool-part, .user-tool-part .tool-part-form-box{\r\n        background: #f2f2f2;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/home/user-tool-part.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tool-part user-tool-part\",on:{\"mouseleave\":_vm.curItemDerective}},[_c('ul',{staticClass:\"tool-part-list\"},_vm._l((_vm.toolList),function(item){return _c('li',{staticClass:\"tool-part-list-item\",class:{active:item.isActive}},[_c('span',{domProps:{\"textContent\":_vm._s(item.tit)},on:{\"click\":function($event){_vm.toolSelect(item,$event)}}})])})),_vm._v(\" \"),_c('div',{staticClass:\"tool-part-form-box\"},[_c('form',{key:'search',staticClass:\"tool-part-form\"},[_c('div',[_c('transition',{attrs:{\"name\":\"shrink\"}},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.curToolListItem),expression:\"curToolListItem\"},{name:\"model\",rawName:\"v-model.trim\",value:(_vm.roomName),expression:\"roomName\",modifiers:{\"trim\":true}}],key:\"userId\",staticClass:\"tool-part-input\",attrs:{\"type\":\"text\",\"placeholder\":(\"账号：\" + (_vm.userInfo.userId||'')),\"disabled\":\"disabled\"},domProps:{\"value\":(_vm.roomName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.roomName=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}})])],1),_vm._v(\" \"),_c('div',[_c('transition',{attrs:{\"name\":\"shrink\"}},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.curToolListItem),expression:\"curToolListItem\"},{name:\"model\",rawName:\"v-model.trim\",value:(_vm.roomName),expression:\"roomName\",modifiers:{\"trim\":true}}],key:\"nickname\",staticClass:\"tool-part-input\",attrs:{\"type\":\"text\",\"placeholder\":(\"用户名：\" + (_vm.userInfo.nickname||'')),\"disabled\":\"disabled\"},domProps:{\"value\":(_vm.roomName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.roomName=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}})])],1),_vm._v(\" \"),_c('div',[_c('transition',{attrs:{\"name\":\"shrink\"}},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.curToolListItem),expression:\"curToolListItem\"},{name:\"model\",rawName:\"v-model.trim\",value:(_vm.roomName),expression:\"roomName\",modifiers:{\"trim\":true}}],key:\"descript\",staticClass:\"tool-part-input\",attrs:{\"type\":\"text\",\"placeholder\":(\"座右铭：\" + (_vm.userInfo.descript||'')),\"disabled\":\"disabled\"},domProps:{\"value\":(_vm.roomName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.roomName=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}})])],1)]),_vm._v(\" \"),_c('ul',{staticClass:\"tool-part-result\"},[(_vm.isShowResultForm)?_c('li',{staticClass:\"tool-part-result-form\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.roomPassword),expression:\"roomPassword\",modifiers:{\"trim\":true}}],staticClass:\"tool-part-result-input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入房间口令\"},domProps:{\"value\":(_vm.roomPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.roomPassword=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_vm._v(\" \"),_c('span',{staticClass:\"tool-part-result-btn\",on:{\"click\":_vm.roomJoinComfirm}},[_vm._v(\"确定\")])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.searchResultList),function(item){return _c('li',{staticClass:\"tool-part-result-item\",class:{'result-active':item.isActive},domProps:{\"textContent\":_vm._s(item.roomName)},on:{\"click\":function($event){_vm.joinRoomClickHandle(item)}}})})],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-892e2b58\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/user-tool-part.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-892e2b58\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./user-tool-part.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./user-tool-part.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./user-tool-part.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-892e2b58\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./user-tool-part.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/user-tool-part.vue\n// module id = null\n// module chunks = ","<template>\r\n    <ul class=\"user-list\">\r\n        <li class=\"user-list-item\"\r\n            v-for=\"item in userList\"\r\n            @click=\"userSelect(item)\">\r\n            <span class=\"user-list-item-content\" v-text=\"item.nickname\"\r\n                  :class=\"{'user-list-item-inline':item.isInRoom,'active':item.isActive}\"\r\n                  :title=\"item.nickname\"></span>\r\n            <span v-text=\"item.role\" class=\"user-list-item-role\"></span>\r\n            <transition name=\"slide-down\">\r\n                <div class=\"media-btn-box\" v-if=\"item.isActive\">\r\n                    <span class=\"audio-btn\"\r\n                          v-for=\"meItem in mediaList\"\r\n                          :key=\"meItem.id\"\r\n                          v-text=\"meItem.tit\"\r\n                          @click=\"mediaStart(meItem)\"></span>\r\n                </div>\r\n            </transition>\r\n        </li>\r\n    </ul>\r\n</template>\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                roomId:\"\",\r\n                curUser:null,\r\n                userList: [],\r\n                mediaList:[\r\n                    {tit:\"语言通话\",id:\"audio\"},\r\n                    {tit:\"视频通话\",id:\"video\"},\r\n                ],\r\n                roleType: {\r\n                    0: \"房主\"\r\n                },\r\n                userSelfInfo: null,\r\n            }\r\n        },\r\n        methods: {\r\n            userSelect(item){\r\n                this.curUser && ( this.curUser.isActive=false );\r\n                item.isActive = true;\r\n                this.curUser = item;\r\n            },\r\n            getRoomUserList(roomId) {\r\n                let params = {roomId: roomId};\r\n//                if( !params ) {return this.$router.push({name:\"user\"});};\r\n                let path = window.SYRESOURCE.roomMembers;\r\n                this.$http\r\n                    .get(path, {params: params})\r\n                    .then(res => {\r\n                        res.body.code === 200\r\n                            ? this.succeedHandle(res)\r\n                            : this.errHandle();\r\n                    }, err => {\r\n                    })\r\n            },\r\n/*            showRoomUserList(res) {\r\n                var data = res.body.data || [];\r\n                this.userList = data.map(item => {\r\n                    item.isInRoom = ( item.userId === this.userSelfInfo.userId );\r\n                    return item;\r\n                })\r\n            },*/\r\n            succeedHandle(res) {\r\n                res.body.data[0] && ( res.body.data[0].role = this.roleType[0]);\r\n                this.userList = res.body.data.map(item=>{\r\n                    item.isActive = false;\r\n                    return item;\r\n                });\r\n//                this.showRoomUserList(res);\r\n            },\r\n            errHandle() {\r\n            },\r\n            userFind(userId) {\r\n                for (let user of this.userList) {\r\n                    if (user.userId === userId) {\r\n                        return user;\r\n                    };\r\n                }\r\n            },\r\n            userIn(userId,roomId) {\r\n                this.roomId = roomId;\r\n                let user;\r\n                if(userId === this.userSelfInfo.userId) { return this.getRoomUserList(roomId) };\r\n                user = this.userFind(userId);\r\n                user\r\n                    ?(user.isInRoom = true)\r\n                    :(this.getRoomUserList(roomId));\r\n            },\r\n            userOut(userId) {\r\n                if(userId === this.userSelfInfo.userId) { return };\r\n                let user = this.userFind(userId);\r\n                user.isInRoom = false;\r\n            },\r\n            mediaStart(mediaItem){\r\n                this._$eventBus.$emit(\"chatMedia\",this.curUser,mediaItem,this.roomId);\r\n            },\r\n        },\r\n        mounted() {\r\n            let userInfo = JSON.parse(sessionStorage.getItem(\"userInfo\"));\r\n            this.userSelfInfo = userInfo;\r\n//            this.getRoomUserList();\r\n//            this._$eventBus.$on(\"roomChecked\", this.getRoomUserList);\r\n            this._$eventBus.$on(\"userIn\", this.userIn);\r\n            this._$eventBus.$on(\"userOut\", this.userOut);\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .user-list {\r\n        padding: 10px 20px;\r\n        color: #777;\r\n    }\r\n\r\n    .user-list-item {\r\n        padding-top: 10px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .user-list .active,.user-list-item:hover .user-list-item-content {\r\n        color: #000;\r\n        font-weight: bold;\r\n        text-shadow: 1px 0 1px rgba(0, 0, 0, 1);\r\n        border-color: transparent;\r\n    }\r\n\r\n    .user-list-item-role {\r\n        padding: 0 2px;\r\n        font-size: 0.4em;\r\n        vertical-align: top;\r\n        background: linear-gradient(to right bottom, #f00, #F60, #699, #06C, #909, #FF0);\r\n        -webkit-background-clip: text;\r\n        color: transparent;\r\n    }\r\n\r\n    .user-list-item-content {\r\n        border-bottom: 1px solid #eee;\r\n        max-width: 40px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        color: #aaa;\r\n    }\r\n\r\n    .user-list-item-status {\r\n        padding: 0 2px;\r\n        font-size: 0.4em;\r\n        vertical-align: bottom;\r\n        color: #ccc;\r\n    }\r\n\r\n    .user-list-item-inline {\r\n        color: #000;\r\n    }\r\n    .media-btn-box{\r\n        background: #000;\r\n        color: #aaa;\r\n        overflow: hidden;\r\n        margin-top: 5px;\r\n        text-align: center;\r\n    }\r\n    .slide-down-enter-active, .slide-down-leave-active {\r\n        transition: all .5s;\r\n    }\r\n\r\n    .slide-down-enter, .slide-down-leave-to {\r\n        transform: scaleY(0);\r\n    }\r\n    .audio-btn:hover,.video-btn:hover{\r\n        color: #fff;\r\n    }\r\n    .video-btn,.audio-btn{\r\n        line-height: 2;\r\n        display: inline-block;\r\n        margin: 0 6px;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/home/user-list-part.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"user-list\"},_vm._l((_vm.userList),function(item){return _c('li',{staticClass:\"user-list-item\",on:{\"click\":function($event){_vm.userSelect(item)}}},[_c('span',{staticClass:\"user-list-item-content\",class:{'user-list-item-inline':item.isInRoom,'active':item.isActive},attrs:{\"title\":item.nickname},domProps:{\"textContent\":_vm._s(item.nickname)}}),_vm._v(\" \"),_c('span',{staticClass:\"user-list-item-role\",domProps:{\"textContent\":_vm._s(item.role)}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide-down\"}},[(item.isActive)?_c('div',{staticClass:\"media-btn-box\"},_vm._l((_vm.mediaList),function(meItem){return _c('span',{key:meItem.id,staticClass:\"audio-btn\",domProps:{\"textContent\":_vm._s(meItem.tit)},on:{\"click\":function($event){_vm.mediaStart(meItem)}}})})):_vm._e()])],1)}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-38f8b6d8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/user-list-part.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-38f8b6d8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./user-list-part.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./user-list-part.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./user-list-part.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-38f8b6d8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./user-list-part.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/user-list-part.vue\n// module id = null\n// module chunks = ","/**\r\n * Created by haibalai on 2017/9/12.\r\n */\r\nimport EventEmitter from 'wolfy87-eventemitter'\r\nexport const EventBus = {};\r\n\r\nEventBus.bus= new EventEmitter();\r\n\r\n/*设置远程cd,sdp*/\r\nEventBus.setRemoteRtc = \"getRemoteRtc\";\r\n/*本地cd,sdp生成完毕*/\r\nEventBus.localRtcDone = \"localRtcDone\";\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/EventBus/EventBus.js","import { EventBus } from \"@src/EventBus/EventBus\";\r\nlet PeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;\r\nlet iceServer = {\r\n    \"iceServers\": [\r\n        {\r\n            \"urls\": \"stun:106.15.225.7:3478\"\r\n        },\r\n        {\r\n            \"urls\": \"turn:106.15.225.7:3478\",\r\n            \"username\": \"user\",\r\n            \"credential\": \"password\",\r\n        },\r\n    ]\r\n};//p2p连接服务\r\nlet mediaModel = null; //数据缓存区\r\n\r\nexport default {\r\n    install(localVideo, remoteVideo) {\r\n            mediaModel = {\r\n                iceGatheringState:null,//本地cd收集状态\r\n                remoteVideoPlayer: remoteVideo,//播放远程视频的vedio标签\r\n                localVideoPlayer: localVideo,//播放本地视频的vedio标签\r\n                pc: null,//PeerConnection实例\r\n                localCd: [],//本地candidate\r\n                remoteCd: [],//远程candidate\r\n                localSdp: null,//本地description\r\n                remoteSdp: null,//远程description\r\n            };\r\n            mediaModel.pc = new PeerConnection(iceServer);\r\n            mediaModel.pc.ontrack = showRemoteVideo;\r\n            mediaModel.pc.onicecandidate = saveLocalCD;\r\n            return tool;\r\n    },\r\n};\r\nlet tool = {\r\n    caller: {\r\n        setLocal(options = {audio: false, video: true}) {\r\n            return new Promise(function (res, rej) {\r\n                getMedia(options)\r\n                    .then(linkLocalVideo)\r\n                    .then(createOffer)\r\n                    .then(localCompete)\r\n                    .catch();\r\n            });\r\n        },\r\n        setRemote(remoteSdp, remoteCd) {\r\n            mediaModel.remoteSdp = remoteSdp;\r\n            mediaModel.remoteCd = remoteCd;\r\n            return new Promise(function (rs, rj) {\r\n                setRemoteSdp()\r\n                    .then(addRemoteCd)\r\n                    .then(rs)\r\n                    .catch(rj)\r\n            })\r\n        },\r\n    },\r\n    answerer: {\r\n        setRemote(remoteSdp, remoteCd,options = {audio: false, video: true}, ) {\r\n            mediaModel.remoteSdp = remoteSdp;\r\n            mediaModel.remoteCd = remoteCd;\r\n            return new Promise(function (res, rej) {\r\n                getMedia(options)\r\n                    .then(linkLocalVideo)\r\n                    .then(setRemoteSdp)\r\n                    .then(addRemoteCd)\r\n                    .then(createAnswer)\r\n                    .then(localCompete)\r\n                    .catch();\r\n            });\r\n        },\r\n    },\r\n};\r\n//播放远程视频\r\nfunction showRemoteVideo(evt) {\r\n    mediaModel.remoteVideoPlayer.srcObject = evt.streams[0];\r\n};\r\n\r\n//保存pc.oncandidate返回的本地cd\r\nfunction saveLocalCD(evt) {\r\n    let state = mediaModel.iceGatheringState = evt.target.iceGatheringState;\r\n    (state === \"complete\")\r\n        ? localCompete()\r\n        : mediaModel.localCd.push(evt.candidate);\r\n};\r\n\r\n//获取摄像头权限\r\nfunction getMedia(options) {\r\n    return navigator.mediaDevices.getUserMedia(options); //promise\r\n};\r\n\r\n//播放、链接本地视频\r\nfunction linkLocalVideo(mediaStream) {\r\n    return new Promise(function (rs, rj) {\r\n        mediaModel.pc.addStream(mediaStream);\r\n        mediaModel.localVideoPlayer.srcObject = mediaStream;\r\n        rs();\r\n    })\r\n};\r\n\r\n//将后台发过来的cd设置进pc\r\nfunction addRemoteCd() {\r\n    return new Promise(function (rs,rj) {\r\n        mediaModel.remoteCd.forEach((item, index) => {\r\n            mediaModel.pc.addIceCandidate(new RTCIceCandidate(item));\r\n            if (index === mediaModel.remoteCd.length - 1) {\r\n                rs();\r\n            }\r\n        })\r\n    })\r\n};\r\n\r\n//将后台发送过来了的sdp设置为pc的remoteSdp\r\nfunction setRemoteSdp() {\r\n    return new Promise(function (rs, rj) {\r\n        mediaModel.pc.setRemoteDescription(mediaModel.remoteSdp, rs, rj);\r\n    })\r\n};\r\n\r\n//caller setLocal\r\nfunction createOffer() {\r\n    return new Promise(function (rs, rj) {\r\n        let pc = mediaModel.pc;\r\n        pc.createOffer(\r\n            function (sdp) {\r\n                pc.setLocalDescription(sdp, ()=>{\r\n                        mediaModel.localSdp = pc.localDescription;\r\n                        rs();\r\n                    }, error => {console.error(\"mediaStart,setLocalDescription#\" + error)});\r\n            }, error => {console.error(\"mediaStart,createOffer#\" + error)}\r\n        );\r\n    })\r\n};\r\n\r\n//answerer setLocal\r\nfunction createAnswer() {\r\n    return new Promise(function (rs, rj) {\r\n        let pc = mediaModel.pc;\r\n        pc.createAnswer(function (sdp) {\r\n            pc.setLocalDescription(sdp, function () {\r\n                let localSdp = pc.localDescription;\r\n                mediaModel.localSdp = localSdp;\r\n                rs();\r\n            }, error => {\r\n                console.error(\"mediaStart,setLocalDescription#\" + error)\r\n            });\r\n        }, error => {\r\n            console.error(\"mediaStart,createOffer#\" + error)\r\n        });\r\n    })\r\n};\r\n\r\n//本地cd,sdp准备完毕\r\nfunction localCompete() {\r\n        if(mediaModel.iceGatheringState!==\"complete\" || !mediaModel.localSdp) return;\r\n        let params = {\r\n            sdp:mediaModel.localSdp,\r\n            cd:mediaModel.localCd,\r\n        };\r\n        EventBus.bus.emit(EventBus.localRtcDone,params);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-media/RTC.js","<template>\r\n    <router-view></router-view>\r\n</template>\r\n<script>\r\n    import Rtc from \"./RTC.js\";\r\n    import {EventBus} from \"@src/EventBus/EventBus\";\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                isCaller: false,\r\n                chatSocket: null,\r\n                user: null,\r\n                roomId: \"\",\r\n                rtcTool:null,\r\n                targetUser:null,\r\n            }\r\n        },\r\n        methods: {\r\n            chatMediaHandleCaller(user, chatType, roomId) {\r\n                switch (chatType.id) {\r\n                    case \"video\":\r\n                        this.isCaller = true;\r\n                        return this.videoChatHandleCaller(user, roomId);\r\n                    case \"audio\":\r\n                        return this.audioChatHandle(user, roomId);\r\n                    default:\r\n                        return;\r\n                }\r\n            },\r\n            videoChatHandleCaller(user, roomId, sdp, cd) {\r\n                this.roomId = roomId;\r\n                this.targetUser = user;\r\n                this.$router.push({name: \"视频通话\"});\r\n                this.$nextTick(function () {\r\n                    let remoteVideo = document.querySelector(\"#remoteVideo\");\r\n                    let localVideo = document.querySelector(\"#localVideo\");\r\n                    this.rtcTool = Rtc.install(localVideo, remoteVideo);\r\n                    this.rtcTool.caller.setLocal();\r\n                });\r\n            },\r\n            sendLocalRtc(params) {\r\n                let mes = {\r\n                    type: \"chatVideo\",\r\n                    roomId: window.$ROOMID,\r\n                    targetUser: {\r\n                        nickname: this.targetUser.nickname,\r\n                        userId: this.targetUser.userId,\r\n                    },\r\n                    data: params,\r\n                    userInfo:JSON.parse(sessionStorage.getItem(\"userInfo\"))\r\n                };\r\n                window.SYRESOURCE.chatSocket.emit(\"clientMes\", mes);\r\n                console.log(\"sendLocal\",mes);\r\n            },\r\n            getRemoteRtc(mes) {\r\n                if (mes.type !== \"chatVideo\") return;\r\n                console.log(\"getRemote\",mes);\r\n                this.isCaller\r\n                    ? this.rtcTool.caller.setRemote(mes.data.sdp, mes.data.cd)\r\n                    : (()=>{\r\n                        this.targetUser = mes.userInfo;\r\n                        this.$router.push({name: \"视频通话\"});\r\n                        this.$nextTick(function () {\r\n                            let remoteVideo = document.querySelector(\"#remoteVideo\");\r\n                            let localVideo = document.querySelector(\"#localVideo\");\r\n                            this.rtcTool = Rtc.install(localVideo, remoteVideo);\r\n                            this.rtcTool.answerer.setRemote(mes.data.sdp, mes.data.cd);\r\n                        });\r\n                    })()\r\n            },\r\n            audioChatHandle(user, roomId) {\r\n                this.$router.push({name: \"语音通话\"});\r\n            },\r\n\r\n        },\r\n        mounted() {\r\n            this._$eventBus.$on(\"chatMedia\", this.chatMediaHandleCaller);\r\n            this._$eventBus.$on(\"chatSocketConnected\",()=>{\r\n                window.SYRESOURCE.chatSocket.on(\"serverMes\", this.getRemoteRtc);\r\n            });\r\n            EventBus.bus.addListener(EventBus.localRtcDone,this.sendLocalRtc);\r\n        },\r\n        destroyed() {\r\n            this._$eventBus.$off(\"chatMedia\");\r\n            this._$eventBus.$off(\"chatSocketConnected\");\r\n            EventBus.bus.removeListener(EventBus.localRtcDone,this.sendLocalRtc);\r\n        }\r\n    }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/chat-media/media-route.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-1b17e166\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/chat-media/media-route.vue\n// module id = null\n// module chunks = ","export default function slideListrener (handler) {\r\n    let startX, startY;\r\n    //滑动处理\r\n    function touchstartHandle(ev) {\r\n        startX = ev.touches[0].pageX;\r\n        startY = ev.touches[0].pageY;\r\n    }\r\n    \r\n    function touchendHandle(ev) {\r\n        let endX, endY;\r\n        endX = ev.changedTouches[0].pageX;\r\n        endY = ev.changedTouches[0].pageY;\r\n        let direction = GetSlideDirection(startX, startY, endX, endY);\r\n        typeof handler === 'function' && handler(direction);\r\n    }\r\n    return {\r\n        startListener(elm) {\r\n            elm.addEventListener('touchstart', touchstartHandle, false);\r\n            elm.addEventListener('touchend', touchendHandle, false);\r\n        },\r\n        clearListener(elm) {\r\n            elm.removeEventListener('touchstart', touchstartHandle);\r\n            elm.removeEventListener('touchend', touchendHandle);\r\n        },\r\n    }\r\n}\r\n\r\n//返回角度\r\nfunction GetSlideAngle(dx, dy) {\r\n    return Math.atan2(dy, dx) * 180 / Math.PI;\r\n}\r\n\r\n//根据起点和终点返回方向 1：向上，2：向下，3：向左，4：向右,0：未滑动\r\nfunction GetSlideDirection(startX, startY, endX, endY) {\r\n    let dy = startY - endY;\r\n    let dx = endX - startX;\r\n    let result = 0;\r\n    //如果滑动距离太短\r\n    if (Math.abs(dx) < 2 && Math.abs(dy) < 2) {\r\n        return result;\r\n    }\r\n    let angle = GetSlideAngle(dx, dy);\r\n    if (angle >= -45 && angle < 45) {\r\n        result = \"right\";\r\n    } else if (angle >= 45 && angle < 135) {\r\n        result = \"up\";\r\n    } else if (angle >= -135 && angle < -45) {\r\n        result = \"down\";\r\n    }\r\n    else if ((angle >= 135 && angle <= 180) || (angle >= -180 && angle < -135)) {\r\n        result = \"left\";\r\n    }\r\n    \r\n    return result;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/touch/slide.js","<template>\r\n    <div class=\"home\">\r\n        <div class=\"home-room-list\" ref=\"leftSide\">\r\n            <roomToolPart></roomToolPart>\r\n            <roomListPart></roomListPart>\r\n        </div>\r\n        <div class=\"home-room-chatting\" ref=\"chattingBoard\" @click=\"hideLeftRight\">\r\n            <div class=\"home-room-chatting-list\"></div>\r\n            <div class=\"home-room-chatting-current\">\r\n                <chatPart></chatPart>\r\n            </div>\r\n        </div>\r\n        <div class=\"home-room-member\" ref=\"rightSide\">\r\n            <userToolPart></userToolPart>\r\n            <userListPart></userListPart>\r\n            <div class=\"chat-media-route\">\r\n                <mediaRoute></mediaRoute>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import chatPart from \"./chat-part.vue\";\r\n    import navPart from \"./nav-part.vue\";\r\n    import roomListPart from \"./room-list-part.vue\";\r\n    import roomToolPart from \"./room-tool-part.vue\";\r\n    import userToolPart from \"./user-tool-part.vue\";\r\n    import userListPart from \"./user-list-part.vue\";\r\n    import mediaRoute from \"@pages/chat-media/media-route.vue\";\r\n    import slideListener from \"@src/plugins/touch/slide\";\r\n\r\n    export default {\r\n        components: {\r\n            chatPart,\r\n            navPart,\r\n            roomListPart,\r\n            roomToolPart,\r\n            userToolPart,\r\n            userListPart,\r\n            mediaRoute,\r\n        },\r\n        data() {\r\n            return {\r\n                slide: null,\r\n                curSide: \"\",\r\n            }\r\n        },\r\n        methods: {\r\n            bodyResize() {\r\n                document.querySelector(\"body\").style.height = window.innerHeight + \"px\";\r\n            },\r\n            slideHandle(direc) {\r\n                switch (direc) {\r\n                    case \"left\":\r\n                        if (this.curSide === \"left\") return this.hideCurSide();\r\n                        this.hideLeftSide();\r\n                        this.showRightSide();\r\n                        this.curSide = \"right\";\r\n                        return;\r\n                    case \"right\":\r\n                        if (this.curSide === \"right\") return this.hideCurSide();\r\n                        this.hideRightSide();\r\n                        this.showLeftSide();\r\n                        this.curSide = \"left\";\r\n                        return;\r\n                    default:\r\n                }\r\n            },\r\n            hideCurSide() {\r\n                this.hideLeftSide();\r\n                this.hideRightSide();\r\n                this.curSide = '';\r\n            },\r\n            hideLeftSide() {\r\n                this.$refs.leftSide.style.left = \"-100%\";\r\n            },\r\n            showLeftSide() {\r\n                this.$refs.leftSide.style.left = 0;\r\n            },\r\n            showRightSide() {\r\n                this.$refs.rightSide.style.right = 0;\r\n            },\r\n            hideRightSide() {\r\n                this.$refs.rightSide.style.right = \"-100%\";\r\n            },\r\n        },\r\n        mounted() {\r\n            this.bodyResize();\r\n            window.addEventListener(\"resize\", this.bodyResize);\r\n            window.SYRESOURCE.chatSocket = io.connect();\r\n            this._$eventBus.$emit(\"chatSocketConnected\");\r\n            this.slide = slideListener(this.slideHandle);\r\n            this.slide.startListener(document);\r\n        },\r\n        destroyed() {\r\n            /**\r\n             * 清除所有eventBus事件\r\n             */\r\n            this._$eventBus.$off();\r\n            this.slide.clearListener(document);\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .home {\r\n        display: flex;\r\n        height: 100%;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .home-room-list, .home-room-member {\r\n        position: relative;\r\n        width: 30%;\r\n    }\r\n\r\n    .home-room-chatting {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n\r\n    .home-room-chatting-list {\r\n\r\n    }\r\n\r\n    .home-room-chatting-current {\r\n        height: 100%;\r\n    }\r\n    .chat-media-route{\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n    }\r\n    @media screen and (max-width: 600px) {\r\n        .home {\r\n            position: relative;\r\n        }\r\n\r\n        .home-room-list, .home-room-member {\r\n            position: absolute;\r\n            width: 100%;\r\n            background: #fff;\r\n            transition: left .5s, right .5s;\r\n            height: 100%;\r\n        }\r\n\r\n        .home-room-list {\r\n            left: -100%;\r\n            top: 0;\r\n        }\r\n\r\n        .home-room-member {\r\n            right: -100%;\r\n            top: 0;\r\n        }\r\n        .chat-media-route{\r\n            position: fixed;\r\n            right: 0;\r\n            background: #000;\r\n            text-align: center;\r\n            z-index: 1;\r\n            color: #fff;\r\n            left: 0;\r\n            right: 0;\r\n            margin: auto;\r\n            max-height: 40%;\r\n            max-width: 80%;\r\n            margin-top: 20%;\r\n            top: 0;\r\n            bottom: inherit;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/home/index.vue","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./media-route.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./media-route.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b17e166\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./media-route.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/chat-media/media-route.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',{ref:\"leftSide\",staticClass:\"home-room-list\"},[_c('roomToolPart'),_vm._v(\" \"),_c('roomListPart')],1),_vm._v(\" \"),_c('div',{ref:\"chattingBoard\",staticClass:\"home-room-chatting\",on:{\"click\":_vm.hideLeftRight}},[_c('div',{staticClass:\"home-room-chatting-list\"}),_vm._v(\" \"),_c('div',{staticClass:\"home-room-chatting-current\"},[_c('chatPart')],1)]),_vm._v(\" \"),_c('div',{ref:\"rightSide\",staticClass:\"home-room-member\"},[_c('userToolPart'),_vm._v(\" \"),_c('userListPart'),_vm._v(\" \"),_c('div',{staticClass:\"chat-media-route\"},[_c('mediaRoute')],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-23024f8f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23024f8f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23024f8f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/index.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media-video-box\"},[_c('video',{staticClass:\"remote-video\",attrs:{\"id\":\"remoteVideo\",\"autoplay\":\"\"}}),_vm._v(\" \"),_c('video',{staticClass:\"local-video\",attrs:{\"id\":\"localVideo\",\"autoplay\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-1555e7fd\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/chat-media/chat-video.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1555e7fd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./chat-video.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./chat-video.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./chat-video.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1555e7fd\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./chat-video.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/chat-media/chat-video.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"media-video-box\">\r\n        <video class=\"remote-video\" id=\"remoteVideo\" autoplay></video>\r\n        <video class=\"local-video\" id=\"localVideo\" autoplay></video>\r\n    </div>\r\n</template>\r\n<script>\r\n    import RtcTool from \"./RTC.js\";\r\n    export default {\r\n        data() {\r\n            return {\r\n                chatSocket:null,\r\n            }\r\n        },\r\n        mounted(){\r\n\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .media-video-box{\r\n        position: relative;\r\n        text-align: right;\r\n    }\r\n    .remote-video{\r\n        display: inline-block;\r\n        width: 100%;\r\n    }\r\n    .local-video{\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        height: 20%;\r\n        border: 3px solid #000;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/chat-media/chat-video.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n    Audio\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-0804d2ec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/chat-media/chat-audio.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./chat-audio.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./chat-audio.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0804d2ec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./chat-audio.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/chat-media/chat-audio.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport userIndex from '@pages/user/index.vue';\nimport userSignIn from '@pages/user/sign-in.vue';\nimport userSignUp from '@pages/user/sign-up.vue';\nimport home from '@pages/home/index.vue';\nimport chatVideo from '@pages/chat-media/chat-video.vue';\nimport chatAudio from '@pages/chat-media/chat-audio.vue';\n\nVue.use(Router);\n\nexport default new Router({\n    routes: [\n        {\n            path: '/',\n            redirect:'/user'\n        },\n        {\n            path: '/user',\n            name: 'user',\n            component: userIndex,\n            redirect: '/user/signIn',\n            children:[\n                {\n                    path: 'signIn',\n                    name: 'signIn',\n                    component: userSignIn,\n                },\n                {\n                    path: 'signUp',\n                    name: 'signUp',\n                    component: userSignUp,\n                }\n            ]\n        },\n        {\n            path: '/home',\n            name: 'home',\n            component: home,\n            children:[\n                {\n                    path: 'video',\n                    name: '视频通话',\n                    component: chatVideo,\n                },\n                {\n                    path: 'audio',\n                    name: '语音通话',\n                    component: chatAudio,\n                }\n            ]\n        }\n    ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import MockStart from \"../test/mock/MockBUS\";\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport VueResource from 'vue-resource'\nimport eventBus from './plugins/eventBus'\n// MockStart(true);\nVue.config.productionTip = false;\nVue.use(VueResource);\nVue.use(eventBus);\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\nwindow.addEventListener(\"unload\",function () {\n    // window.SYRESOURCE.chatSocketDisconnect();\n    // window.SYRESOURCE.chatSocketRoomLeave();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export default {\r\n    install(Vue){\r\n        Vue.prototype._$eventBus = new Vue();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/eventBus/index.js"],"sourceRoot":""}